<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Ramadhan System - CHASTE DRAGON</title>

<style>
body{
  background:black;
  font-family:Poppins, sans-serif;
  color:white;
  text-align:center;
  padding:30px;
}

h1{ color:gold; }

.card{
  background:#111;
  border:2px solid gold;
  border-radius:15px;
  padding:25px;
  max-width:800px;
  margin:30px auto;
  box-shadow:0 0 25px gold;
}

.hari{
  font-size:24px;
  font-weight:bold;
  color:gold;
}

.progress-container{
  width:100%;
  background:#222;
  border-radius:50px;
  margin-top:20px;
  overflow:hidden;
  height:25px;
}

.progress-bar{
  height:100%;
  background:linear-gradient(90deg,gold,orange);
  text-align:center;
  line-height:25px;
  color:black;
  font-weight:bold;
  transition:width 1s ease-in-out;
}

.countdown{
  display:flex;
  justify-content:center;
  gap:15px;
  margin-top:25px;
  flex-wrap:wrap;
}

.box{
  background:black;
  border:2px solid gold;
  padding:15px 20px;
  border-radius:10px;
  min-width:80px;
}

.number{
  font-size:24px;
  font-weight:bold;
  color:gold;
}

.label{ font-size:13px; }

.status{
  margin-top:20px;
  font-size:18px;
  color:gold;
}
</style>
</head>

<body>

<h1>üåô RAMADHAN 1447H</h1>
<h2>CHASTE DRAGON Ê¥ÅÈæô</h2>

<div id="ramadhanContainer"></div>

<script>

const totalHari = 30;

/* ======================
   TANGGAL RAMADHAN
====================== */
const versi = {
  NU: {
    start: new Date("February 19, 2026 00:00:00").getTime(),
    end: new Date("March 20, 2026 00:00:00").getTime()
  },
  Muhammadiyah: {
    start: new Date("February 18, 2026 00:00:00").getTime(),
    end: new Date("March 19, 2026 00:00:00").getTime()
  }
};

/* ======================
   WAKTU IMSAK & MAGHRIB
   (BISA DIGANTI PER KOTA)
====================== */
const waktuImsak = "04:30";
const waktuMaghrib = "18:00";

function getTargetWaktu(){

  const now = new Date();
  const today = now.toDateString();

  const imsak = new Date(today + " " + waktuImsak);
  const maghrib = new Date(today + " " + waktuMaghrib);

  if(now >= imsak && now < maghrib){
    return {
      label: "Menuju Waktu Berbuka",
      target: maghrib.getTime()
    };
  } else {
    if(now >= maghrib){
      imsak.setDate(imsak.getDate() + 1);
    }
    return {
      label: "Menuju Waktu Imsak",
      target: imsak.getTime()
    };
  }
}

function buatCard(nama, data){

  const now = new Date().getTime();
  const selisihHari = Math.floor((now - data.start) / (1000*60*60*24)) + 1;
  const persen = Math.min(Math.floor((selisihHari / totalHari) * 100),100);

  const waktu = getTargetWaktu();
  const jarak = waktu.target - now;

  const hari = Math.floor(jarak / (1000 * 60 * 60 * 24));
  const jam = Math.floor((jarak % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const menit = Math.floor((jarak % (1000 * 60 * 60)) / (1000 * 60));
  const detik = Math.floor((jarak % (1000 * 60)) / 1000);

  return `
    <div class="card">
      <h3 style="color:gold;">Versi ${nama}</h3>

      <div class="hari">Hari ke-${selisihHari > 0 ? selisihHari : 0}</div>

      <div class="progress-container">
        <div class="progress-bar" style="width:${persen}%">
          ${persen}%
        </div>
      </div>

      <div class="status">
        ‚è≥ ${waktu.label}
      </div>

      <div class="countdown">
        <div class="box">
          <div class="number">${hari}</div>
          <div class="label">Hari</div>
        </div>
        <div class="box">
          <div class="number">${jam}</div>
          <div class="label">Jam</div>
        </div>
        <div class="box">
          <div class="number">${menit}</div>
          <div class="label">Menit</div>
        </div>
        <div class="box">
          <div class="number">${detik}</div>
          <div class="label">Detik</div>
        </div>
      </div>
    </div>
  `;
}

function updateSystem(){
  const container = document.getElementById("ramadhanContainer");
  container.innerHTML =
    buatCard("NU", versi.NU) +
    buatCard("Muhammadiyah", versi.Muhammadiyah);
}

updateSystem();
setInterval(updateSystem, 1000);

</script>

<hr style="border:1px solid gold;margin:40px 0;">

<div>
<a href="jam.html" style="color:gold;text-decoration:none;">
‚¨Ö Jam Berbuka-Imsak
</a>
&nbsp;&nbsp;&nbsp;
<a href="https://chastedragon.vercel.app" style="color:gold;text-decoration:none;">
‚¨Ö Back
</a>
</div>

</body>
</html>