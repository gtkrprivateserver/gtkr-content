<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadhan System - CHASTE DRAGON</title>

<style>
body{
  background:black;
  font-family:Poppins, sans-serif;
  color:white;
  text-align:center;
  padding:30px;
}

h1,h2,h3{
  color:gold;
}

.card{
  background:#111;
  border:2px solid gold;
  border-radius:20px;
  padding:30px;
  max-width:750px;
  margin:30px auto;
  box-shadow:0 0 30px gold;
}

.hari{
  font-size:28px;
  font-weight:bold;
  color:gold;
}

.progress-container{
  width:100%;
  background:#222;
  border-radius:50px;
  margin-top:20px;
  overflow:hidden;
  height:30px;
}

.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,gold,orange);
  text-align:center;
  line-height:30px;
  color:black;
  font-weight:bold;
  transition:width 1s ease-in-out;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{box-shadow:0 0 5px gold;}
  to{box-shadow:0 0 25px gold;}
}

.countdown{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:25px;
  flex-wrap:wrap;
}

.box{
  background:black;
  border:2px solid gold;
  padding:15px 20px;
  border-radius:12px;
  min-width:90px;
}

.number{
  font-size:26px;
  font-weight:bold;
  color:gold;
}

.label{
  font-size:14px;
}

hr{
  border:1px solid gold;
  margin:35px 0;
}

.footer{
  margin-top:40px;
}
</style>
</head>

<body>

<h1>üåô RAMADHAN 1447H</h1>
<h2>CHASTE DRAGON Ê¥ÅÈæô</h2>

<div id="ramadhanContainer"></div>

<!-- Audio Adzan -->
<audio id="adzanSound">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8b8a7a33d5.mp3" type="audio/mpeg">
</audio>

<script>

const totalHari = 30;

// =======================
// EDIT JADWAL WIB DISINI
// =======================
const jadwalWIB = {
  imsak: "04:49:00",
  maghrib: "18:35:00"
};

const versi = {
  NU: {
    start: new Date("February 19, 2026 00:00:00").getTime(),
    end: new Date("March 20, 2026 00:00:00").getTime()
  },
  Muhammadiyah: {
    start: new Date("February 18, 2026 00:00:00").getTime(),
    end: new Date("March 19, 2026 00:00:00").getTime()
  }
};

function getTodayTime(jamString){
  const today = new Date();
  const [h,m,s] = jamString.split(":");
  return new Date(
    today.getFullYear(),
    today.getMonth(),
    today.getDate(),
    h,m,s
  ).getTime();
}

let adzanPlayed = false;

function buatCard(nama, data){

  const now = new Date().getTime();
  const selisihHari = Math.floor((now - data.start) / (1000*60*60*24)) + 1;
  const jarak = data.end - now;

  if(jarak <= 0){
    return `
      <div class="card">
        <h2>üéâ SELAMAT IDUL FITRI 1447H üéâ</h2>
        <p><strong>${nama}</strong></p>
        <p>Mohon Maaf Lahir & Batin</p>
        <p>CHASTE DRAGON Ê¥ÅÈæô</p>
      </div>
    `;
  }

  let persen = 0;
  if(selisihHari >= 1 && selisihHari <= totalHari){
    persen = Math.floor((selisihHari / totalHari) * 100);
  }

  // Countdown Idul Fitri
  const hariCD = Math.floor(jarak / (1000 * 60 * 60 * 24));
  const jamCD = Math.floor((jarak % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const menitCD = Math.floor((jarak % (1000 * 60 * 60)) / (1000 * 60));
  const detikCD = Math.floor((jarak % (1000 * 60)) / 1000);

  // Sahur & Buka
  const imsakTime = getTodayTime(jadwalWIB.imsak);
  const maghribTime = getTodayTime(jadwalWIB.maghrib);

  let menujuBuka = maghribTime - now;

  if(menujuBuka <= 0 && !adzanPlayed){
    document.getElementById("adzanSound").play();
    adzanPlayed = true;
  }

  if(menujuBuka < 0){
    menujuBuka = 0;
  }

  const bukaJam = Math.floor((menujuBuka % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  const bukaMenit = Math.floor((menujuBuka % (1000 * 60 * 60)) / (1000 * 60));
  const bukaDetik = Math.floor((menujuBuka % (1000 * 60)) / 1000);

  return `
    <div class="card">
      <h3>Versi ${nama}</h3>

      <div class="hari">Hari ke-${selisihHari > 0 ? selisihHari : 0}</div>

      <div class="progress-container">
        <div class="progress-bar" style="width:${persen}%">
          ${persen}%
        </div>
      </div>

      <h3 style="margin-top:25px;">‚è≥ Menuju Idul Fitri</h3>

      <div class="countdown">
        <div class="box"><div class="number">${hariCD}</div><div class="label">Hari</div></div>
        <div class="box"><div class="number">${jamCD}</div><div class="label">Jam</div></div>
        <div class="box"><div class="number">${menitCD}</div><div class="label">Menit</div></div>
        <div class="box"><div class="number">${detikCD}</div><div class="label">Detik</div></div>
      </div>

      <hr>

      <h3>üïå Jadwal Hari Ini (WIB)</h3>
      <p>üåô Sahur / Imsak : <strong>${jadwalWIB.imsak}</strong></p>
      <p>üåá Berbuka : <strong>${jadwalWIB.maghrib}</strong></p>

      <h3 style="margin-top:20px;">‚è≥ Countdown Menuju Berbuka</h3>

      <div class="countdown">
        <div class="box"><div class="number">${bukaJam}</div><div class="label">Jam</div></div>
        <div class="box"><div class="number">${bukaMenit}</div><div class="label">Menit</div></div>
        <div class="box"><div class="number">${bukaDetik}</div><div class="label">Detik</div></div>
      </div>

    </div>
  `;
}

function updateSystem(){
  const container = document.getElementById("ramadhanContainer");
  container.innerHTML =
    buatCard("NU", versi.NU) +
    buatCard("Muhammadiyah", versi.Muhammadiyah);
}

updateSystem();
setInterval(updateSystem, 1000);

</script>

<hr>

<div class="footer">
<a href="https://chastedragon.vercel.app" style="color:gold;text-decoration:none;">
‚¨Ö Back
</a>
</div>

</body>
</html>