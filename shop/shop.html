<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Shop CHASTE DRAGON - Admin Login</title>
<style>
body{
  background:black; color:white; font-family:Poppins,sans-serif; text-align:center; padding:20px;
}
h1,h2{ color:gold; }
.card{
  background:#111; border:2px solid gold; border-radius:15px; padding:20px; margin:15px auto; max-width:500px;
  box-shadow:0 0 15px gold; text-align:left; position:relative;
}
.badge{ background:#1DA1F2; color:white; font-size:12px; padding:4px 10px; border-radius:20px; font-weight:bold; display:inline-block; margin-left:10px; }
button{ padding:8px 15px; border:none; border-radius:8px; background:gold; color:black; font-weight:bold; margin-top:10px; cursor:pointer; transition:0.3s; }
button:hover{ background:orange; }
input, select{ width:95%; padding:8px; margin:6px 0; border-radius:6px; border:none; }
.modal{ display:none; position:fixed; z-index:999; left:0; top:0; width:100%; height:100%; background:rgba(0,0,0,0.85); overflow:auto; }
.modal-content{ background:#111; margin:50px auto; padding:20px; border:2px solid gold; border-radius:15px; max-width:400px; text-align:center; }
.close{ position:absolute; top:10px; right:15px; font-size:24px; font-weight:bold; color:white; cursor:pointer; }
.close:hover{ color:gold; }
.admin-panel{ display:none; background:#111; border:2px solid gold; border-radius:15px; padding:15px; margin:20px auto; max-width:500px; }
</style>
</head>
<body>

<h1>ðŸ›’ SHOP CHASTE DRAGON</h1>
<button onclick="openSellerModal()">Ingin Menjadi Seller?</button>
<button onclick="openAdminLogin()">Admin Panel</button>

<!-- FORM POPUP SELLER -->
<div id="sellerModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeSellerModal()">&times;</span>
    <h2>Daftar Seller</h2>
    <form id="sellerForm" onsubmit="submitSeller(event)">
      <input type="text" id="sellerNama" placeholder="Nama Lengkap" required>
      <input type="number" id="sellerUmur" placeholder="Umur" required>
      <input type="text" id="sellerKota" placeholder="Asal Kota" required>
      <select id="sellerGender" required>
        <option value="">Jenis Kelamin</option>
        <option value="Laki-laki">Laki-laki</option>
        <option value="Perempuan">Perempuan</option>
      </select>
      <hr>
      <input type="text" id="tokoNama" placeholder="Nama Toko" required>
      <input type="text" id="produkNama" placeholder="Nama Barang" required>
      <input type="number" id="produkHarga" placeholder="Harga" required>
      <input type="text" id="viaPembayaran" placeholder="Via Pembayaran" required>
      <br>
      <button type="submit">Daftar & Kirim ke Admin</button>
    </form>
  </div>
</div>

<!-- ADMIN LOGIN POPUP -->
<div id="adminLoginModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeAdminLogin()">&times;</span>
    <h2>Admin Login</h2>
    <input type="text" id="adminUser" placeholder="Username" required>
    <input type="password" id="adminPass" placeholder="Password" required>
    <br>
    <button onclick="loginAdmin()">Login</button>
  </div>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="admin-panel">
  <h2>Admin Panel - Verifikasi Seller</h2>
  <div id="adminSellerList"></div>
</div>

<div id="sellerList"></div>

<script>
// =======================
// ADMIN NUMBER
// =======================
const adminNumber = "6285363155850";

// =======================
// ADMIN CREDENTIALS
// =======================
const ADMIN_USER = "admin";
const ADMIN_PASS = "chaste2026";

// =======================
// DATA SELLER (LOCALSTORAGE)
// =======================
let sellers = JSON.parse(localStorage.getItem('chaste_sellers') || '[]');

// =======================
// RENDER SELLERS
// =======================
function renderSellers(){
  const container = document.getElementById("sellerList");
  container.innerHTML = "";
  sellers.forEach((s, index)=>{
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML = `
      <h3>${s.toko} ${s.verified?'<span class="badge">âœ“ Verified</span>':''}</h3>
      <p>Seller: ${s.nama}</p>
      <p>Kota: ${s.kota}</p>
      <p>Produk: ${s.produk}</p>
      <p>Harga: Rp${s.harga}</p>
      <p>Via: ${s.via}</p>
      <button onclick="hubungi('${s.whatsapp}')">Hubungi Seller</button>
    `;
    container.appendChild(card);
  });
}
renderSellers();

// =======================
// HUBUNGI SELLER
// =======================
function hubungi(number){
  window.open(`https://wa.me/${number}?text=${encodeURIComponent('Halo, saya tertarik dengan produk Anda di CHASTE DRAGON.')}`, "_blank");
}

// =======================
// POPUP SELLER
// =======================
function openSellerModal(){ document.getElementById("sellerModal").style.display="block"; }
function closeSellerModal(){ document.getElementById("sellerModal").style.display="none"; }

// =======================
// SUBMIT SELLER FORM
// =======================
function submitSeller(e){
  e.preventDefault();
  const nama = document.getElementById("sellerNama").value;
  const umur = document.getElementById("sellerUmur").value;
  const kota = document.getElementById("sellerKota").value;
  const gender = document.getElementById("sellerGender").value;
  const toko = document.getElementById("tokoNama").value;
  const produk = document.getElementById("produkNama").value;
  const harga = document.getElementById("produkHarga").value;
  const via = document.getElementById("viaPembayaran").value;

  const whatsapp = prompt("Masukkan nomor WhatsApp Anda untuk dihubungi (62xxxx)","");
  if(!whatsapp) return;

  const newSeller = {nama, umur, kota, gender, toko, produk, harga, via, whatsapp, verified:false};
  sellers.push(newSeller);
  localStorage.setItem('chaste_sellers', JSON.stringify(sellers));
  renderSellers();

  // KIRIM KE ADMIN WHATSAPP
  const pesan = `
ðŸ“¦ PENDAFTARAN SELLER CHASTE DRAGON ðŸ“¦
Nama: ${nama}
Umur: ${umur}
Kota: ${kota}
Jenis Kelamin: ${gender}
Nama Toko: ${toko}
Produk: ${produk}
Harga: Rp${harga}
Via: ${via}
Nomor WA: ${whatsapp}
Mohon verifikasi.
`;
  window.open(`https://wa.me/${adminNumber}?text=${encodeURIComponent(pesan)}`, "_blank");

  alert("Data berhasil dikirim ke admin!");
  document.getElementById("sellerForm").reset();
  closeSellerModal();
}

// =======================
// ADMIN LOGIN POPUP
// =======================
function openAdminLogin(){ document.getElementById("adminLoginModal").style.display="block"; }
function closeAdminLogin(){ document.getElementById("adminLoginModal").style.display="none"; }

function loginAdmin(){
  const user = document.getElementById("adminUser").value;
  const pass = document.getElementById("adminPass").value;
  if(user===ADMIN_USER && pass===ADMIN_PASS){
    alert("Login berhasil!");
    closeAdminLogin();
    openAdminPanel();
  } else {
    alert("Username atau password salah!");
  }
}

// =======================
// ADMIN PANEL
// =======================
function openAdminPanel(){
  const panel = document.getElementById("adminPanel");
  panel.style.display = panel.style.display==='block'?'none':'block';
  renderAdminPanel();
}

function renderAdminPanel(){
  const container = document.getElementById("adminSellerList");
  container.innerHTML = "";
  sellers.forEach((s,index)=>{
    const div = document.createElement("div");
    div.className="card";
    div.innerHTML = `
      <h3>${s.toko} ${s.verified?'<span class="badge">âœ“ Verified</span>':''}</h3>
      <p>Seller: ${s.nama}</p>
      <p>Produk: ${s.produk}</p>
      <button onclick="verifySeller(${index})">${s.verified?'Verified':'Verifikasi'}</button>
    `;
    container.appendChild(div);
  });
}

function verifySeller(index){
  sellers[index].verified=true;
  localStorage.setItem('chaste_sellers', JSON.stringify(sellers));
  renderSellers();
  renderAdminPanel();
}

</script>
<hr style="border:1px solid gold;margin:40px 0;">

<div class="footer">
<a href="https://chastedragon.vercel.app" style="color:gold;text-decoration:none;">
â¬… Back
</a>
</div>
</body>
</html>