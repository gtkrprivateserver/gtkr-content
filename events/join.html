<!-- ========================= -->
<!-- File: daftar-auto-close.html -->
<!-- ========================= -->
<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Pendaftaran Launching - CHASTE DRAGON</title>

<style>
body{
  background:black;
  color:white;
  font-family:Poppins, sans-serif;
  padding:40px;
  text-align:center;
}
h1,h2{ color:gold; }

.container{
  max-width:600px;
  margin:auto;
  background:#111;
  padding:30px;
  border:2px solid gold;
  border-radius:15px;
  box-shadow:0 0 25px rgba(255,215,0,0.3);
}

input, textarea{
  width:100%;
  padding:10px;
  margin:10px 0;
  border-radius:8px;
  border:none;
}

input:invalid, textarea:invalid{
  outline:2px solid red;
}

button{
  background:gold;
  color:black;
  padding:12px 20px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s;
}

button:disabled{
  background:gray;
  color:white;
  cursor:not-allowed;
}

.countdown{
  margin:20px 0;
  font-size:18px;
  color:gold;
}

.status{
  font-weight:bold;
  margin-top:15px;
}

.status.open{ color:lime; }
.status.closed{ color:red; }
.status.waiting{ color:orange; }
</style>
</head>

<body>

<h1>PENDAFTARAN EVENT LAUNCHING</h1>
<h2>CHASTE DRAGON SQUAD</h2>

<div class="countdown" id="countdown"></div>
<div id="statusEvent" class="status waiting"></div>

<div class="container">
  <input type="text" id="nama" placeholder="Nama / Nickname" required disabled>
  <input type="text" id="idakun" placeholder="ID Walla / HeeSay" required disabled>
  <input type="text" id="asal" placeholder="Asal Squad (jika ada)" required disabled>
  <textarea id="pesan" placeholder="Pesan Tambahan (Wajib Diisi)" required disabled></textarea>

  <button id="btnDaftar" onclick="kirimWA()" disabled>
    PENDAFTARAN BELUM DIBUKA
  </button>
</div>

<script>

// ===== SET TANGGAL =====
// Waktu pendaftaran dibuka
const openDate = new Date("March 1, 2026 00:00:00 GMT+0700").getTime();

// Waktu launching / pendaftaran ditutup
const closeDate = new Date("March 2, 2026 03:30:00 GMT+0700").getTime();

const btn = document.getElementById("btnDaftar");
const inputs = document.querySelectorAll("input, textarea");
const statusEvent = document.getElementById("statusEvent");

function updateCountdown(){
  const now = new Date().getTime();

  // ===== BELUM DIBUKA =====
  if(now < openDate){
    const distance = openDate - now;
    showCountdown(distance, "Pendaftaran Dibuka Dalam");
    btn.disabled = true;
    btn.innerText = "PENDAFTARAN BELUM DIBUKA";
    inputs.forEach(i => i.disabled = true);
    statusEvent.innerText = "Status: MENUNGGU PEMBUKAAN";
    statusEvent.className = "status waiting";
    return;
  }

  // ===== SEDANG DIBUKA =====
  if(now >= openDate && now < closeDate){
    const distance = closeDate - now;
    showCountdown(distance, "Pendaftaran Ditutup Dalam");
    btn.disabled = false;
    btn.innerText = "DAFTAR VIA WHATSAPP";
    inputs.forEach(i => i.disabled = false);
    statusEvent.innerText = "Status: PENDAFTARAN DIBUKA";
    statusEvent.className = "status open";
    return;
  }

  // ===== SUDAH DITUTUP =====
  if(now >= closeDate){
    document.getElementById("countdown").innerHTML = "üî• EVENT TELAH DIMULAI üî•";
    btn.disabled = true;
    btn.innerText = "PENDAFTARAN DITUTUP";
    inputs.forEach(i => i.disabled = true);
    statusEvent.innerText = "Status: PENDAFTARAN DITUTUP";
    statusEvent.className = "status closed";
  }
}

function showCountdown(distance, label){
  const days = Math.floor(distance / (1000*60*60*24));
  const hours = Math.floor((distance % (1000*60*60*24)) / (1000*60*60));
  const minutes = Math.floor((distance % (1000*60*60)) / (1000*60));
  const seconds = Math.floor((distance % (1000*60)) / 1000);

  document.getElementById("countdown").innerHTML =
    label + ": " + days + "H "
    + hours + "J "
    + minutes + "M "
    + seconds + "D";
}

setInterval(updateCountdown, 1000);
updateCountdown();

// ===== Kirim WhatsApp =====
function kirimWA(){

  var nama = document.getElementById("nama");
  var idakun = document.getElementById("idakun");
  var asal = document.getElementById("asal");
  var pesan = document.getElementById("pesan");

  if(!nama.value || !idakun.value || !asal.value || !pesan.value){
    alert("‚ö†Ô∏è Semua field wajib diisi sebelum mendaftar!");
    return;
  }

  var nomorAdmin = "6288269017561"; // GANTI NOMOR ADMIN

  var url = "https://wa.me/" + nomorAdmin + "?text=" 
    + encodeURIComponent(
      "PENDAFTARAN EVENT LAUNCHING CHASTE DRAGON\n\n"
      + "Nama: " + nama.value + "\n"
      + "ID Walla/HeeSay: " + idakun.value + "\n"
      + "Asal Squad: " + asal.value + "\n"
      + "Pesan: " + pesan.value + "\n\n"
      + "Konfirmasi Hadir: YA"
    );

  window.open(url, '_blank');
}

</script>

<hr style="border:1px solid gold;margin:30px 0;">

<a href="event.html" style="color:gold;">‚¨Ö Kembali</a>

</body>
</html>