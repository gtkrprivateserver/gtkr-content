<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>CHASTE DRAGON - Recruitment System</title>

<style>
body{
  background:black;
  font-family:Poppins, sans-serif;
  color:white;
  text-align:center;
  padding:30px;
}

h1{ color:gold; }

.card{
  background:#111;
  border:2px solid gold;
  border-radius:15px;
  padding:30px;
  max-width:750px;
  margin:40px auto;
  box-shadow:0 0 30px gold;
}

input, select{
  width:90%;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid gold;
  background:black;
  color:white;
}

button{
  background:gold;
  color:black;
  padding:10px 20px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  margin:8px;
}

button:hover{ background:orange; }

.badge{
  padding:6px 14px;
  border-radius:20px;
  font-size:12px;
  font-weight:bold;
}

.pending{ background:orange; color:black; }
.verified{ background:lime; color:black; }
.ditolak{ background:red; color:white; }

.admin-btn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:red;
  color:white;
}
</style>
</head>

<body>

<h1>üêâ OPEN RECRUITMENT</h1>
<h2>CO-LEADER & ELDER</h2>

<div class="card">

<form id="formTeam">
<input type="text" id="nama" placeholder="Nama Lengkap" required><br>
<input type="number" id="umur" placeholder="Umur" required><br>
<input type="text" id="kota" placeholder="Asal Kota" required><br>

<select id="role" required>
<option value="">Pilih Role</option>
<option>Co-Leader</option>
<option>Elder</option>
</select><br>

<input type="url" id="walla" placeholder="Link Account Walla" required><br>
<input type="tel" id="waUser" placeholder="Nomor WhatsApp (628xxxx)" required><br>

<button type="submit">Daftar Sekarang</button>
</form>

<div id="notif"></div>

</div>

<button class="admin-btn" onclick="adminLogin()">ADMIN</button>

<script>

const nomorAdmin = "628XXXXXXXXXX"; // GANTI
const passwordAdmin = "CHASTE2026"; // GANTI

let data = JSON.parse(localStorage.getItem("pendaftaranTeam"));

if(data){ tampilkanData(); }

function tampilkanData(){

document.getElementById("formTeam").style.display="none";

let badgeClass="pending";
if(data.status.includes("Verified")) badgeClass="verified";
if(data.status.includes("Ditolak")) badgeClass="ditolak";

document.getElementById("notif").innerHTML=`
<br>
Nama: ${data.nama}<br>
Umur: ${data.umur}<br>
Asal Kota: ${data.kota}<br>
Role: ${data.role}<br>
Link Walla: ${data.walla}<br>
<br>
Status:
<span class="badge ${badgeClass}">${data.status}</span>
`;
}

// ================= DAFTAR =================

formTeam.addEventListener("submit",function(e){
e.preventDefault();

if(localStorage.getItem("pendaftaranTeam")){
alert("Device ini sudah pernah mendaftar!");
return;
}

data={
nama:nama.value,
umur:umur.value,
kota:kota.value,
role:role.value,
walla:walla.value,
waUser:waUser.value,
status:"Pending üü†"
};

localStorage.setItem("pendaftaranTeam",JSON.stringify(data));

// WA ke Admin saat daftar
kirimWA(nomorAdmin,`PENDAFTARAN TEAM CHASTE DRAGON

Nama: ${data.nama}
Umur: ${data.umur}
Kota: ${data.kota}
Role: ${data.role}
WA User: ${data.waUser}
Status: ${data.status}`);

tampilkanData();
});

// ================= ADMIN LOGIN =================

function adminLogin(){
let pass=prompt("Masukkan Password Admin:");
if(pass===passwordAdmin){
panelAdmin();
}else{
alert("Password salah!");
}
}

// ================= ADMIN PANEL =================

function panelAdmin(){

if(!data){
alert("Belum ada pendaftaran.");
return;
}

let pilihan=prompt(
"ADMIN PANEL\n\n1 = Verify\n2 = Tolak\n3 = Reset Device"
);

if(pilihan==="1"){
data.status="Verified ‚úÖ";

kirimWA(data.waUser,`SELAMAT üêâ

Halo ${data.nama},

Pendaftaran kamu sebagai ${data.role}
telah di VERIFIKASI ‚úÖ

Selamat bergabung di CHASTE DRAGON üî•`);

}

else if(pilihan==="2"){
data.status="Ditolak ‚ùå";

kirimWA(data.waUser,`Halo ${data.nama},

Mohon maaf pendaftaran kamu sebagai ${data.role}
belum dapat kami terima.

Tetap semangat üêâ`);
}

else if(pilihan==="3"){

let konfirmasi=confirm("Yakin ingin RESET device ini?");

if(konfirmasi){

kirimWA(nomorAdmin,`RESET DEVICE

Data atas nama:
${data.nama}
Role: ${data.role}

Telah dihapus oleh Admin.`);

localStorage.removeItem("pendaftaranTeam");
location.reload();
}

return;
}

else{
alert("Pilihan tidak valid");
return;
}

localStorage.setItem("pendaftaranTeam",JSON.stringify(data));
tampilkanData();
alert("Status berhasil diupdate!");
}

// ================= FUNCTION WHATSAPP =================

function kirimWA(nomor,pesan){
window.open(
`https://wa.me/${nomor}?text=${encodeURIComponent(pesan)}`,
"_blank"
);
}

</script>

</body>
</html>