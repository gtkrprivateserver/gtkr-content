<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>CHASTE DRAGON - Recruitment System</title>

<style>
body{
  background:black;
  font-family:Poppins, sans-serif;
  color:white;
  text-align:center;
  padding:30px;
}

h1{ color:gold; }

.card{
  background:#111;
  border:2px solid gold;
  border-radius:15px;
  padding:30px;
  max-width:750px;
  margin:40px auto;
  box-shadow:0 0 30px gold;
}

input, select{
  width:90%;
  padding:12px;
  margin:10px 0;
  border-radius:8px;
  border:1px solid gold;
  background:black;
  color:white;
}

button{
  background:gold;
  color:black;
  padding:10px 20px;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
  margin:8px;
}

button:hover{ background:orange; }

.badge{
  padding:6px 14px;
  border-radius:20px;
  font-size:12px;
  font-weight:bold;
}

.pending{ background:orange; color:black; }
.verified{ background:lime; color:black; }
.ditolak{ background:red; color:white; }

.admin-btn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:red;
  color:white;
}

#statusBox{ margin:15px 0;font-size:18px; }
#countdown{ font-size:22px;font-weight:bold;color:gold; }
</style>
</head>

<body>

<h1>üêâ OPEN RECRUITMENT</h1>
<h2>CO-LEADER & ELDER</h2>

<div id="statusBox"></div>
<div id="countdown"></div>

<div class="card">

<form id="formTeam">
<input type="text" id="nama" placeholder="Nama Lengkap" required><br>
<input type="number" id="umur" placeholder="Umur" required><br>
<input type="text" id="kota" placeholder="Asal Kota" required><br>

<select id="role" required>
<option value="">Pilih Role</option>
<option>Co-Leader</option>
<option>Elder</option>
</select><br>

<input type="url" id="walla" placeholder="Link Account Walla" required><br>
<input type="tel" id="waUser" placeholder="Nomor WhatsApp (628xxxx)" required><br>

<button type="submit">Daftar Sekarang</button>
</form>

<div id="notif"></div>

</div>

<button class="admin-btn" onclick="adminLogin()">ADMIN</button>

<script>

// ================== CONFIG ==================

const nomorAdmin = "6285363155850";
const passwordAdmin = "CHASTE2026";

const openDate  = new Date("2026-02-22T00:00:00");
const closeDate = new Date("2026-02-23T23:59:59");

// ============================================

let data = JSON.parse(localStorage.getItem("pendaftaranTeam"));
if(data){ tampilkanData(); }

// ================= TAMPIL DATA =================

function tampilkanData(){

document.getElementById("formTeam").style.display="none";

let badgeClass="pending";
if(data.status.includes("Verified")) badgeClass="verified";
if(data.status.includes("Ditolak")) badgeClass="ditolak";

document.getElementById("notif").innerHTML=`
<br>
Nama: ${data.nama}<br>
Umur: ${data.umur}<br>
Asal Kota: ${data.kota}<br>
Role: ${data.role}<br>
Link Walla: ${data.walla}<br>
<br>
Status:
<span class="badge ${badgeClass}">${data.status}</span>
`;
}

// ================= DAFTAR =================

formTeam.addEventListener("submit",function(e){
e.preventDefault();

if(localStorage.getItem("pendaftaranTeam")){
alert("Device ini sudah pernah mendaftar!");
return;
}

data={
nama:nama.value,
umur:umur.value,
kota:kota.value,
role:role.value,
walla:walla.value,
waUser:waUser.value,
status:"Pending üü†"
};

localStorage.setItem("pendaftaranTeam",JSON.stringify(data));

kirimWA(nomorAdmin,`PENDAFTARAN TEAM CHASTE DRAGON

Nama: ${data.nama}
Umur: ${data.umur}
Kota: ${data.kota}
Role: ${data.role}
WA User: ${data.waUser}
Status: ${data.status}`);

tampilkanData();
});

// ================= ADMIN =================

function adminLogin(){
let pass=prompt("Masukkan Password Admin:");
if(pass===passwordAdmin){
panelAdmin();
}else{
alert("Password salah!");
}
}

function panelAdmin(){

if(!data){
alert("Belum ada pendaftaran.");
return;
}

document.getElementById("notif").innerHTML += `
<br><br>
<button onclick="verifikasiUser()">‚úÖ Kirim Verifikasi</button>
<button onclick="tolakUser()">‚ùå Kirim Penolakan</button>
<button onclick="resetDevice()">‚ôª Reset Device</button>
`;

}

// ================= ACTION =================

function verifikasiUser(){

data.status="Verified ‚úÖ";
localStorage.setItem("pendaftaranTeam",JSON.stringify(data));

kirimWA(data.waUser,`SELAMAT üêâ

Halo ${data.nama},

Pendaftaran kamu sebagai ${data.role}
telah di VERIFIKASI ‚úÖ

Selamat bergabung di CHASTE DRAGON üî•`);

tampilkanData();
alert("Verifikasi berhasil dikirim!");
}

function tolakUser(){

data.status="Ditolak ‚ùå";
localStorage.setItem("pendaftaranTeam",JSON.stringify(data));

kirimWA(data.waUser,`Halo ${data.nama},

Mohon maaf pendaftaran kamu sebagai ${data.role}
belum dapat kami terima.`);

tampilkanData();
alert("Penolakan berhasil dikirim!");
}

function resetDevice(){
if(!confirm("Yakin reset device ini?")) return;
localStorage.removeItem("pendaftaranTeam");
location.reload();
}

// ================= WHATSAPP =================

function kirimWA(nomor,pesan){
window.open(
`https://wa.me/${nomor}?text=${encodeURIComponent(pesan)}`,
"_blank"
);
}

// ================= OPEN/CLOSE =================

const statusBox = document.getElementById("statusBox");
const countdownEl = document.getElementById("countdown");

function updateCountdown(){

let now = new Date();

if(now < openDate){
let diff = openDate - now;
statusBox.innerHTML = "<span style='color:orange;'>COMING SOON üü°</span>";
disableForm(true);
renderTime(diff,"Menuju OPEN");
}
else if(now >= openDate && now <= closeDate){
let diff = closeDate - now;
statusBox.innerHTML = "<span style='color:lime;'>OPEN üü¢</span>";
disableForm(false);
renderTime(diff,"Menuju CLOSED");
}
else{
statusBox.innerHTML = "<span style='color:red;'>CLOSED üî¥</span>";
countdownEl.innerHTML = "Pendaftaran telah ditutup.";
disableForm(true);
}
}

function renderTime(diff,label){
let days = Math.floor(diff/(1000*60*60*24));
let hours = Math.floor((diff%(1000*60*60*24))/(1000*60*60));
let minutes = Math.floor((diff%(1000*60*60))/(1000*60));
let seconds = Math.floor((diff%(1000*60))/1000);

countdownEl.innerHTML =
`${label}: ${days}H ${hours}J ${minutes}M ${seconds}D`;
}

function disableForm(state){
document.querySelectorAll("#formTeam input, #formTeam select, #formTeam button")
.forEach(el => el.disabled = state);
}

setInterval(updateCountdown,1000);
updateCountdown();

</script>

<hr style="border:1px solid gold;margin:40px 0;">

<div class="footer">
<a href="https://chastedragon.vercel.app" style="color:gold;text-decoration:none;">
‚¨Ö Back
</a>
</div>

</body>
</html>